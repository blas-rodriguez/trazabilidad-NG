<div class="col-md-12 mt-3">
    <h1>{{page_title}}</h1>

    <div class="alert alert-success col-md-5 mt-3" *ngIf="status == 'success'">
        El agricultor se han guardado correctamente.
    </div>

    <div class="alert alert-danger col-md-5 mt-3" *ngIf="status == 'error'">
        El agricultor no se han guardado.
    </div>

    <!--FORMULARIO DE AJUSTES-->
    <form class="ml-0 pl-0" #farmerForm="ngForm" (ngSubmit)="onSubmit(farmerForm)">
        <div class="form-row">
            <div class="form-group col-md-4">
                <label for="nif">NIF</label>
                <input type="text" name="nif" class="form-control" #nif="ngModel" [(ngModel)]="farmer.nif" maxlength="9"
                    required pattern="[0-9]{8}[a-zA-Z]{1}">
                <small *ngIf="!nif.valid && nif.touched" class="invalid-feedback d-block">
                    El NIF no es válido
                </small>
            </div>

            <div class="form-group col-md-4">
                <label for="name">Nombre</label>
                <input type="text" name="name" class="form-control" #name="ngModel" [(ngModel)]="farmer.name" required
                    pattern="[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1]+$">
                <small *ngIf="!name.valid && name.touched" class="invalid-feedback d-block">
                    El nombre no es valido
                </small>
            </div>

            <div class="form-group col-md-4">
                <label for="surname">Apellidos</label>
                <input type="text" name="surname" class="form-control" #surname="ngModel" [(ngModel)]="farmer.surname"
                    required pattern="[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1]+$">
                <small *ngIf="!surname.valid && surname.touched" class="invalid-feedback d-block">
                    Los apellidos no son validos
                </small>
            </div>
        </div>

        <div class="form-group">
            <label for="direction">Dirección</label>
            <input type="text" name="direction" class="form-control" #direction="ngModel" [(ngModel)]="farmer.direction"
                required>
            <small *ngIf="!direction.valid && direction.touched" class="invalid-feedback d-block">
                La dirección es obligatoria
            </small>
        </div>

        <div class="form-row">
            <div class="form-group col-md-4">
                <label for="location">Localidad</label>
                <input type="text" name="location" class="form-control" #location="ngModel"
                    [(ngModel)]="farmer.location" required>
                <small *ngIf="!location.valid && location.touched" class="invalid-feedback d-block">
                    La localidad es obligatoria
                </small>
            </div>

            <div class="form-group col-md-4">
                <label for="province">Provincia</label>
                <input type="text" name="province" class="form-control" #province="ngModel"
                    [(ngModel)]="farmer.province" required>
                <small *ngIf="!province.valid && province.touched" class="invalid-feedback d-block">
                    La provincia es obligatoria
                </small>
            </div>

            <div class="form-group col-md-2">
                <label for="postcode">Código Postal</label>
                <input type="text" name="postcode" #postcode="ngModel" [(ngModel)]="farmer.postcode"
                    class="form-control">
            </div>

          <div class="form-group col-md-2">
            <label for="zone_id">Zona</label>
            <select name="zone_id" #zone_id="ngModel" [(ngModel)]="farmer.zone_id" class="form-control">
                <option *ngFor="let zone of zones" value="{{zone.id}}">{{zone.zone}}</option>
            </select>
        </div>
        </div>

            <div class="form-group">
                <label for="description">Descripción</label>
                <textarea [froalaEditor]="froala_options" name="description" class="form-control" #description="ngModel"
                    [(ngModel)]="farmer.description" [(froalaModel)]="farmer.description"></textarea>
            </div>

            <button type="submit" class="btn btn-success" [disabled]="farmerForm.invalid">Guardar</button>
    </form>
</div>